<?xml version="1.0"?>
<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
 <defs>
  <marker id="arrow-head" markerHeight="8" markerWidth="8" orient="auto-start-reverse" refX="9" refY="5" viewBox="0 0 10 10">
   <path d="m0,0l10,5l-10,5l0,-10z" fill="#111" id="arrow1"/>
  </marker>
 </defs>
<style>
    .title { font-family: "Arial", sans-serif; font-weight: 600; font-size: 26px; fill: #111; }
    .label { font-family: "Arial", sans-serif; font-size: 18px; fill: #111; }
    .small-label { font-family: "Arial", sans-serif; font-size: 14px; fill: #111; }
    .note { font-family: "Arial", sans-serif; font-size: 16px; fill: #111; }
    .flow-label { font-family: "Arial", sans-serif; font-size: 15px; fill: #111; text-anchor: middle; }
    .component { stroke: #111; stroke-width: 2.2px; fill: #fff; }
    .duct { stroke: #333; stroke-width: 3px; fill: none; }
    .signal-line { stroke: #155724; stroke-width: 2.5px; fill: none; stroke-dasharray: 8 4; }
    .air-line { stroke: #95a5a6; stroke-width: 3.5px; fill: none; }
    .air-line-thick { stroke: #95a5a6; stroke-width: 5px; fill: none; }
    .regulator { stroke: #111; stroke-width: 2.5px; fill: #e8f4f8; }
    .inverter { stroke: #111; stroke-width: 2.5px; fill: #fff3e6; }
    .motor { stroke: #111; stroke-width: 2.5px; fill: #e6f3ff; }
    .fan { stroke: #111; stroke-width: 3px; fill: #f0f0f0; }
    .sensor { stroke: #111; stroke-width: 2px; fill: #ffe6e6; }
    .shaft { stroke: #333; stroke-width: 4px; fill: none; }
    .annotation { font-family: "Arial", sans-serif; font-size: 14px; fill: #111; }
    .param-label { font-family: "Arial", sans-serif; font-size: 13px; fill: #111; }
</style>
<rect width="1400" height="900" fill="#fff"/>

<g class="layer">
  <title>Layer 1</title>
  
  <!-- Tytuł -->
  <text class="title" text-anchor="middle" x="700" y="40">Rys. 2. Schemat ideowy UAR prędkości wentylatora</text>
  
  <!-- Regulator PID -->
  <rect class="regulator" x="150" y="300" width="200" height="150" rx="5"/>
  <text class="label" text-anchor="middle" x="250" y="330" font-weight="bold">Regulator PID</text>
  <text class="small-label" x="170" y="355">Parametry:</text>
  <text class="param-label" x="180" y="375">Kp - wzmocnienie</text>
  <text class="param-label" x="180" y="395">Ti - człon całkujący</text>
  <text class="param-label" x="180" y="415">Td - człon różniczkujący</text>
  
  <!-- Wejścia regulatora - SP (setpoint) -->
  <line class="signal-line" marker-end="url(#arrow-head)" x1="50" y1="330" x2="150" y2="330"/>
  <text class="annotation" x="60" y="320">SP (wartość zadana)</text>
  <text class="param-label" x="60" y="340" font-weight="bold">Ts = 2°C</text>
  <text class="param-label" x="60" y="355">(temp. w szybie)</text>
  
  <!-- Wejście regulatora - PV (process variable) -->
  <line class="signal-line" marker-end="url(#arrow-head)" x1="250" y1="520" x2="250" y2="450"/>
  <text class="annotation" x="260" y="490">PV (temperatura mierzona)</text>
  <text class="param-label" x="260" y="505">T_szyb (-30m)</text>
  
  <!-- Wyjście regulatora - CV (control variable) -->
  <line class="signal-line" marker-end="url(#arrow-head)" x1="350" y1="375" x2="470" y2="375"/>
  <text class="annotation" x="360" y="365">CV (sygnał sterujący)</text>
  <text class="param-label" x="360" y="385">częstotliwość:</text>
  <text class="param-label" x="360" y="400">25-50 Hz</text>
  
  <!-- Przetwornica częstotliwości (falownik) -->
  <g transform="translate(520, 320)">
    <rect class="inverter" x="0" y="0" width="140" height="110" rx="3"/>
    <text class="label" text-anchor="middle" x="70" y="30" font-weight="bold">Przetwornica</text>
    <text class="label" text-anchor="middle" x="70" y="50">częstotliwości</text>
    <text class="small-label" text-anchor="middle" x="70" y="70">(Falownik)</text>
    <text class="param-label" text-anchor="middle" x="70" y="90">25-50 Hz</text>
    <text class="param-label" text-anchor="middle" x="70" y="105">400V 3~</text>
  </g>
  
  <!-- Silnik -->
  <circle class="motor" cx="780" cy="375" r="60"/>
  <text class="label" text-anchor="middle" x="780" y="370" font-size="32" font-weight="bold">M</text>
  <text class="small-label" text-anchor="middle" x="780" y="390" font-size="12">Silnik</text>
  <text class="small-label" text-anchor="middle" x="780" y="405" font-size="12">elektryczny</text>
  <text class="param-label" text-anchor="middle" x="780" y="450">3-fazowy</text>
  
  <!-- Połączenie falownika z silnikiem -->
  <line class="signal-line" marker-end="url(#arrow-head)" x1="660" y1="375" x2="720" y2="375"/>
  <text class="param-label" text-anchor="middle" x="690" y="365">400V</text>
  <text class="param-label" text-anchor="middle" x="690" y="390">zmienna f</text>
  
  <!-- Wał napędowy -->
  <line class="shaft" x1="840" y1="375" x2="920" y2="375"/>
  <text class="param-label" text-anchor="middle" x="880" y="365">wał</text>
  
  <!-- Wentylator -->
  <circle class="fan" cx="1000" cy="375" r="80"/>
  <text class="label" text-anchor="middle" x="1000" y="365" font-size="28" font-weight="bold">W1/W2</text>
  <text class="small-label" text-anchor="middle" x="1000" y="390">Wentylator</text>
  
  <!-- Łopatki wentylatora (symbol) -->
  <g transform="translate(1000, 375)">
    <line stroke="#666" stroke-width="2" x1="-30" y1="0" x2="30" y2="0"/>
    <line stroke="#666" stroke-width="2" x1="0" y1="-30" x2="0" y2="30"/>
    <line stroke="#666" stroke-width="2" x1="-22" y1="-22" x2="22" y2="22"/>
    <line stroke="#666" stroke-width="2" x1="-22" y1="22" x2="22" y2="-22"/>
  </g>
  
  <!-- Powietrze przepływające przez wentylator -->
  <line class="air-line" marker-end="url(#arrow-head)" x1="850" y1="300" x2="920" y2="300"/>
  <text class="annotation" x="860" y="290" fill="#7f8c8d">Powietrze</text>
  <text class="param-label" x="865" y="315" fill="#7f8c8d">(wlot)</text>
  
  <!-- Powietrze wylotowe -->
  <line class="air-line-thick" marker-end="url(#arrow-head)" x1="1080" y1="375" x2="1250" y2="375"/>
  <text class="annotation" x="1120" y="365" fill="#7f8c8d" font-weight="bold">Powietrze</text>
  <text class="param-label" x="1120" y="395" fill="#7f8c8d">(do szybu)</text>
  
  <!-- Kanał powietrzny od wentylatora do szybu -->
  <g transform="translate(1100, 475)">
    <rect class="duct" x="0" y="0" width="150" height="80" rx="5" fill="none" stroke="#333" stroke-width="2"/>
    <text class="annotation" text-anchor="middle" x="75" y="25">Kanał</text>
    <text class="annotation" text-anchor="middle" x="75" y="45">wentylacyjny</text>
    <text class="annotation" text-anchor="middle" x="75" y="65">do szybu</text>
  </g>
  
  <!-- Połączenie wentylatora z kanałem -->
  <line class="air-line" x1="1000" y1="455" x2="1000" y2="475"/>
  <line class="air-line" marker-end="url(#arrow-head)" x1="1000" y1="475" x2="1175" y2="475"/>
  
  <!-- Szyb z czujnikiem -->
  <g transform="translate(1150, 600)">
    <rect x="-50" y="0" width="100" height="150" fill="#e0e0e0" stroke="#333" stroke-width="2" rx="3"/>
    <text class="label" text-anchor="middle" x="0" y="30" font-weight="bold">SZYB</text>
    <text class="param-label" text-anchor="middle" x="0" y="50">poziom -30m</text>
    
    <!-- Czujnik temperatury w szybie -->
    <circle class="sensor" cx="0" cy="85" r="25"/>
    <text class="label" text-anchor="middle" x="0" y="90" font-size="16">T</text>
    <text class="small-label" text-anchor="middle" x="0" y="125">Czujnik temp.</text>
  </g>
  
  <!-- Połączenie kanału z szybem -->
  <line class="air-line" marker-end="url(#arrow-head)" x1="1175" y1="555" x2="1175" y2="600"/>
  
  <!-- Linia sprzężenia zwrotnego od czujnika do regulatora -->
  <line class="signal-line" x1="1150" y1="710" x2="1150" y2="750"/>
  <line class="signal-line" x1="1150" y1="750" x2="250" y2="750"/>
  <line class="signal-line" marker-end="url(#arrow-head)" x1="250" y1="750" x2="250" y2="520"/>
  
  <!-- Legenda -->
  <g transform="translate(100, 650)">
    <text class="label" font-weight="bold" x="0" y="0">Legenda:</text>
    
    <!-- Linia sygnałowa -->
    <line class="signal-line" x1="0" y1="30" x2="60" y2="30"/>
    <text class="annotation" x="70" y="35">Sygnał sterujący/pomiarowy</text>
    
    <!-- Linia powietrza -->
    <line class="air-line" x1="0" y1="55" x2="60" y2="55"/>
    <text class="annotation" x="70" y="60">Przepływ powietrza</text>
    
    <!-- Wał mechaniczny -->
    <line class="shaft" x1="0" y1="80" x2="60" y2="80"/>
    <text class="annotation" x="70" y="85">Połączenie mechaniczne (wał)</text>
  </g>
  
  <!-- Dodatkowe opisy -->
  <g transform="translate(100, 770)">
    <text class="label" font-weight="bold" x="0" y="0">Oznaczenia:</text>
    <text class="annotation" x="0" y="20">SP (Set Point) - wartość zadana regulacji (Ts = 2°C)</text>
    <text class="annotation" x="0" y="40">PV (Process Variable) - wartość mierzona (temperatura w szybie na -30m)</text>
    <text class="annotation" x="0" y="60">CV (Control Variable) - sygnał wyjściowy regulatora (częstotliwość 25-50 Hz)</text>
    <text class="annotation" x="0" y="80">M - silnik elektryczny 3-fazowy napędzający wentylator</text>
    <text class="annotation" x="0" y="100">W1/W2 - wentylatory obsługujące odpowiednio nagrzewnice N1-N4 i N5-N8</text>
  </g>
  
  <!-- Notatka o działaniu -->
  <g transform="translate(650, 650)">
    <rect x="-10" y="-20" width="650" height="180" fill="#fffef0" stroke="#111" stroke-width="1.5" rx="5"/>
    <text class="label" font-weight="bold" x="0" y="0">Zasada działania UAR prędkości wentylatora:</text>
    <text class="annotation" x="0" y="25">• Regulator PID porównuje temperaturę zadaną w szybie (Ts=2°C)</text>
    <text class="annotation" x="5" y="45">z temperaturą mierzoną na poziomie -30m (PV)</text>
    <text class="annotation" x="0" y="70">• Spadek temperatury w szybie → zwiększenie prędkości wentylatora</text>
    <text class="annotation" x="5" y="90">(przetwornica zwiększa częstotliwość 25→50 Hz)</text>
    <text class="annotation" x="0" y="115">• Wzrost temperatury w szybie → zmniejszenie prędkości wentylatora</text>
    <text class="annotation" x="5" y="135">(przetwornica zmniejsza częstotliwość 50→25 Hz)</text>
    <text class="annotation" x="0" y="160">• Zakres częstotliwości: 25-50 Hz (min-max prędkości obrotowej)</text>
  </g>
  
</g>
</svg>
