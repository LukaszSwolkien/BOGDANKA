<?xml version="1.0"?>
<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
 <defs>
  <marker id="arrow-head" markerHeight="8" markerWidth="8" orient="auto-start-reverse" refX="9" refY="5" viewBox="0 0 10 10">
   <path d="m0,0l10,5l-10,5l0,-10z" fill="#888" id="arrow1"/>
  </marker>
 </defs>
<style>
    .title { font-family: "Arial", sans-serif; font-weight: 600; font-size: 26px; fill: #111; }
    .label { font-family: "Arial", sans-serif; font-size: 18px; fill: #111; }
    .label-inactive { font-family: "Arial", sans-serif; font-size: 18px; fill: #888; }
    .small-label { font-family: "Arial", sans-serif; font-size: 14px; fill: #111; }
    .small-label-inactive { font-family: "Arial", sans-serif; font-size: 14px; fill: #888; }
    .note { font-family: "Arial", sans-serif; font-size: 16px; fill: #111; }
    .flow-label { font-family: "Arial", sans-serif; font-size: 15px; fill: #111; text-anchor: middle; }
    .component { stroke: #111; stroke-width: 2.2px; fill: #fff; }
    .component-inactive { stroke: #888; stroke-width: 2.2px; fill: #e8e8e8; }
    .duct { stroke: #333; stroke-width: 3px; fill: none; }
    .signal-line { stroke: #155724; stroke-width: 2.5px; fill: none; stroke-dasharray: 8 4; }
    .signal-line-inactive { stroke: #ccc; stroke-width: 2.5px; fill: none; stroke-dasharray: 8 4; }
    .water-line-hot { stroke: #dc3545; stroke-width: 3.5px; fill: none; }
    .water-line-hot-inactive { stroke: #daa; stroke-width: 3.5px; fill: none; stroke-dasharray: 10 5; }
    .water-line-return { stroke: #3498db; stroke-width: 3.5px; fill: none; }
    .water-line-return-inactive { stroke: #aac; stroke-width: 3.5px; fill: none; stroke-dasharray: 10 5; }
    .air-line { stroke: #95a5a6; stroke-width: 3.5px; fill: none; }
    .air-line-inactive { stroke: #ccc; stroke-width: 3.5px; fill: none; stroke-dasharray: 10 5; }
    .regulator { stroke: #111; stroke-width: 2.5px; fill: #e8f4f8; }
    .regulator-inactive { stroke: #888; stroke-width: 2.5px; fill: #f0f0f0; }
    .valve { stroke: #111; stroke-width: 2.5px; fill: #f8f8f8; }
    .valve-inactive { stroke: #888; stroke-width: 2.5px; fill: #e8e8e8; }
    .heater { stroke: #111; stroke-width: 2.5px; fill: #fff5e6; }
    .heater-inactive { stroke: #888; stroke-width: 2.5px; fill: #f0f0f0; }
    .sensor { stroke: #111; stroke-width: 2px; fill: #ffe6e6; }
    .sensor-inactive { stroke: #888; stroke-width: 2px; fill: #e8e8e8; }
    .annotation { font-family: "Arial", sans-serif; font-size: 14px; fill: #111; }
    .annotation-inactive { font-family: "Arial", sans-serif; font-size: 14px; fill: #888; }
    .param-label { font-family: "Arial", sans-serif; font-size: 13px; fill: #111; }
    .param-label-inactive { font-family: "Arial", sans-serif; font-size: 13px; fill: #888; }
    .status-box { fill: #f8d7da; stroke: #dc3545; stroke-width: 2px; }
    .status-text { font-family: "Arial", sans-serif; font-size: 20px; font-weight: 600; fill: #721c24; }
</style>
<rect width="1400" height="900" fill="#fff"/>

<g class="layer">
  <title>Layer 1</title>
  
  <!-- Status Box -->
  <rect class="status-box" x="450" y="70" width="500" height="60" rx="5"/>
  <text class="status-text" text-anchor="middle" x="700" y="110">üî¥ NAGRZEWNICA NIEAKTYWNA (OFF)</text>
  
  <!-- Tytu≈Ç -->
  <text class="title" text-anchor="middle" x="700" y="40">Schemat UAR - Stan nieaktywny nagrzewnicy</text>
  
  <!-- Regulator PID - AKTYWNY ale w trybie utrzymania -->
  <rect class="regulator" x="150" y="300" width="200" height="150" rx="5"/>
  <text class="label" text-anchor="middle" x="250" y="330" font-weight="bold">Regulator PID</text>
  <text class="small-label" x="170" y="355">Parametry:</text>
  <text class="param-label" x="180" y="375">Kp - wzmocnienie</text>
  <text class="param-label" x="180" y="395">Ti - cz≈Çon ca≈ÇkujƒÖcy</text>
  <text class="param-label" x="180" y="415">Td - cz≈Çon r√≥≈ºniczkujƒÖcy</text>
  <text class="label" text-anchor="middle" x="250" y="437" font-weight="bold" font-size="14">Tryb: UTRZYMANIE</text>
  
  <!-- Wej≈õcia regulatora - SP (setpoint) - sta≈Ça pozycja -->
  <line class="signal-line" marker-end="url(#arrow-head)" x1="50" y1="330" x2="150" y2="330"/>
  <text class="annotation" x="60" y="320">SP (warto≈õƒá zadana)</text>
  <text class="param-label" x="60" y="340">CV = 20% (sta≈Çe)</text>
  
  <!-- Wej≈õcie regulatora - PV (process variable) - nieistotne w OFF -->
  <line class="signal-line-inactive" marker-end="url(#arrow-head)" x1="250" y1="520" x2="250" y2="450"/>
  <text class="annotation-inactive" x="260" y="490">PV (ignorowane)</text>
  
  <!-- Wyj≈õcie regulatora - CV (control variable) - sta≈Çe 20% -->
  <line class="signal-line" marker-end="url(#arrow-head)" x1="350" y1="375" x2="450" y2="375"/>
  <text class="annotation" x="360" y="365">CV (sygna≈Ç sterujƒÖcy)</text>
  <text class="param-label" x="360" y="385" font-weight="bold">Zaw√≥r: 20%</text>
  <text class="param-label" x="360" y="400">(utrzymanie sta≈Çe)</text>
  
  <!-- Zaw√≥r regulacyjny - NIEAKTYWNY -->
  <g transform="translate(500, 320)">
    <rect class="valve-inactive" x="0" y="0" width="100" height="110" rx="3"/>
    <text class="label-inactive" text-anchor="middle" x="50" y="30" font-weight="bold">Zaw√≥r</text>
    <text class="label-inactive" text-anchor="middle" x="50" y="50">regula-</text>
    <text class="label-inactive" text-anchor="middle" x="50" y="70">cyjny</text>
    <!-- Symbol zaworu - zamkniƒôty -->
    <polygon points="30,80 50,100 70,80" stroke="#888" stroke-width="2" fill="#ddd"/>
    <text class="small-label-inactive" text-anchor="middle" x="50" y="95" font-weight="bold">20%</text>
  </g>
  
  <!-- Nagrzewnica - NIEAKTYWNA -->
  <rect class="heater-inactive" x="750" y="250" width="300" height="250" rx="5"/>
  <text class="label-inactive" text-anchor="middle" x="900" y="280" font-weight="bold" font-size="22">NAGRZEWNICA</text>
  <text class="label-inactive" text-anchor="middle" x="900" y="305" font-weight="bold" font-size="20">(Nx)</text>
  <text class="label-inactive" text-anchor="middle" x="900" y="335" font-weight="bold" font-size="18">WY≈ÅƒÑCZONA</text>
  
  <!-- Wƒô≈ºownica w nagrzewnicy (symbol) - NIEAKTYWNA -->
  <g transform="translate(780, 360)">
    <path d="M 0,0 Q 15,-15 30,0 T 60,0 T 90,0 T 120,0 T 150,0 T 180,0 T 210,0 T 240,0" 
          stroke="#daa" stroke-width="3" fill="none"/>
    <path d="M 0,20 Q 15,5 30,20 T 60,20 T 90,20 T 120,20 T 150,20 T 180,20 T 210,20 T 240,20" 
          stroke="#daa" stroke-width="3" fill="none"/>
    <path d="M 0,40 Q 15,25 30,40 T 60,40 T 90,40 T 120,40 T 150,40 T 180,40 T 210,40 T 240,40" 
          stroke="#daa" stroke-width="3" fill="none"/>
  </g>
  
  <!-- Woda grzewcza - wej≈õcie - MINIMALNE -->
  <line class="water-line-hot-inactive" marker-end="url(#arrow-head)" x1="650" y1="320" x2="750" y2="320"/>
  <text class="annotation-inactive" x="660" y="310" fill="#daa" font-weight="bold">Woda grzewcza</text>
  <text class="param-label-inactive" x="660" y="330" fill="#daa">(min. przep≈Çyw)</text>
  <text class="param-label-inactive" x="660" y="345" fill="#daa">20% - ochrona</text>
  
  <!-- Po≈ÇƒÖczenie zaworu z wodƒÖ grzewczƒÖ - NIEAKTYWNE -->
  <line class="water-line-hot-inactive" x1="600" y1="375" x2="650" y2="375"/>
  <line class="water-line-hot-inactive" x1="650" y1="375" x2="650" y2="320"/>
  
  <!-- Woda powrotna - wyj≈õcie (przez zaw√≥r) - NIEAKTYWNE -->
  <line class="water-line-return-inactive" x1="900" y1="420" x2="900" y2="500"/>
  <line class="water-line-return-inactive" marker-end="url(#arrow-head)" x1="900" y1="500" x2="550" y2="500"/>
  <line class="water-line-return-inactive" x1="550" y1="500" x2="550" y2="430"/>
  <text class="annotation-inactive" x="700" y="520" fill="#aac" font-weight="bold">Woda powrotna</text>
  
  <!-- Powietrze wlotowe - BRAK PRZEP≈ÅYWU -->
  <line class="air-line-inactive" marker-end="url(#arrow-head)" x1="650" y1="450" x2="750" y2="450"/>
  <text class="annotation-inactive" x="620" y="440" fill="#888" font-weight="bold">Powietrze</text>
  <text class="param-label-inactive" x="630" y="470" fill="#888">(brak przep≈Çywu)</text>
  
  <!-- Powietrze wylotowe - BRAK -->
  <line class="air-line-inactive" marker-end="url(#arrow-head)" x1="1050" y1="375" x2="1200" y2="375"/>
  <text class="annotation-inactive" x="1100" y="365" fill="#888" font-weight="bold">Brak przep≈Çywu</text>
  <text class="param-label-inactive" x="1120" y="395" fill="#888" font-weight="bold">T = T_zewn</text>
  
  <!-- Czujnik temperatury - NIEAKTYWNY -->
  <circle class="sensor-inactive" cx="1150" cy="450" r="35"/>
  <text class="label-inactive" text-anchor="middle" x="1150" y="455" font-size="16">T</text>
  <text class="small-label-inactive" text-anchor="middle" x="1150" y="505">Czujnik</text>
  <text class="small-label-inactive" text-anchor="middle" x="1150" y="520">nieaktywny</text>
  
  <!-- Linia sprzƒô≈ºenia zwrotnego od czujnika do regulatora - NIEAKTYWNE -->
  <line class="signal-line-inactive" x1="1150" y1="485" x2="1150" y2="550"/>
  <line class="signal-line-inactive" x1="1150" y1="550" x2="250" y2="550"/>
  <line class="signal-line-inactive" marker-end="url(#arrow-head)" x1="250" y1="550" x2="250" y2="520"/>
  
  <!-- Legenda -->
  <g transform="translate(100, 650)">
    <text class="label" font-weight="bold" x="0" y="0">Legenda:</text>
    
    <!-- Linia sygna≈Çowa nieaktywna -->
    <line class="signal-line-inactive" x1="0" y1="30" x2="60" y2="30"/>
    <text class="annotation" x="70" y="35">Sygna≈Ç nieaktywny</text>
    
    <!-- Linia wody grzewczej nieaktywna -->
    <line class="water-line-hot-inactive" x1="0" y1="55" x2="60" y2="55"/>
    <text class="annotation" x="70" y="60">Woda grzewcza - min. przep≈Çyw (20%)</text>
    
    <!-- Linia wody powrotnej nieaktywna -->
    <line class="water-line-return-inactive" x1="0" y1="80" x2="60" y2="80"/>
    <text class="annotation" x="70" y="85">Woda powrotna</text>
    
    <!-- Linia powietrza nieaktywna -->
    <line class="air-line-inactive" x1="0" y1="105" x2="60" y2="105"/>
    <text class="annotation" x="70" y="110">Powietrze - brak przep≈Çywu</text>
  </g>
  
  <!-- Dodatkowe opisy -->
  <g transform="translate(100, 770)">
    <text class="label" font-weight="bold" x="0" y="0">Stan nieaktywny (OFF):</text>
    <text class="annotation" x="0" y="20">‚Ä¢ Regulator PID aktywny - utrzymuje zaw√≥r na sta≈Çej pozycji 20%</text>
    <text class="annotation" x="0" y="40">‚Ä¢ Brak regulacji temperatury - zaw√≥r nie reaguje na zmiany PV</text>
    <text class="annotation" x="0" y="60">‚Ä¢ Przepustnice zamkniƒôte - brak przep≈Çywu powietrza</text>
    <text class="annotation" x="0" y="80">‚Ä¢ Czujnik temperatury mo≈ºe byƒá odczytywany, ale ignorowany</text>
    <text class="annotation" x="0" y="100">‚Ä¢ Minimalny przep≈Çyw wody (20%) zapobiega zamro≈ºeniu wƒô≈ºownicy</text>
  </g>
  
  <!-- Notatka o stanie -->
  <g transform="translate(750, 650)">
    <rect x="-10" y="-20" width="550" height="180" fill="#fff0f0" stroke="#dc3545" stroke-width="2" rx="5"/>
    <text class="label" font-weight="bold" x="0" y="0" fill="#721c24">Stan STOPPING ‚Üí OFF:</text>
    <text class="annotation" x="0" y="25">1. PID zamyka zaw√≥r wody z aktualnej pozycji do 20%</text>
    <text class="annotation" x="5" y="45">(stopniowe zmniejszanie przep≈Çywu)</text>
    <text class="annotation" x="0" y="70">2. Zaw√≥r ustabilizowany na 20% (ochrona antyzamro≈ºeniowa)</text>
    <text class="annotation" x="0" y="95">3. Zamykanie przepustnic (g√≥rnej i dolnej)</text>
    <text class="annotation" x="5" y="115">(zatrzymanie przep≈Çywu powietrza)</text>
    <text class="annotation" x="0" y="140">4. PID prze≈ÇƒÖcza siƒô w tryb UTRZYMANIA (CV=20% sta≈Çe)</text>
  </g>
  
</g>
</svg>
