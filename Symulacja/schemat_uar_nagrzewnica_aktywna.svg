<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0.342 1400 900" width="1400px" height="900px">
  <defs>
    <marker id="arrow-head" markerHeight="8" markerWidth="8" orient="auto-start-reverse" refX="9" refY="5" viewBox="0 0 10 10">
      <path d="m0,0l10,5l-10,5l0,-10z" fill="#111" id="arrow1"/>
    </marker>
    <style>
    .title { font-family: "Arial", sans-serif; font-weight: 600; font-size: 26px; fill: #111; }
    .label { font-family: "Arial", sans-serif; font-size: 18px; fill: #111; }
    .small-label { font-family: "Arial", sans-serif; font-size: 14px; fill: #111; }
    .note { font-family: "Arial", sans-serif; font-size: 16px; fill: #111; }
    .flow-label { font-family: "Arial", sans-serif; font-size: 15px; fill: #111; text-anchor: middle; }
    .component { stroke: #111; stroke-width: 2.2px; fill: #fff; }
    .duct { stroke: #333; stroke-width: 3px; fill: none; }
    .signal-line { stroke: #155724; stroke-width: 2.5px; fill: none; stroke-dasharray: 8 4; }
    .water-line-hot { stroke: #dc3545; stroke-width: 3.5px; fill: none; }
    .water-line-return { stroke: #3498db; stroke-width: 3.5px; fill: none; }
    .air-line { stroke: #95a5a6; stroke-width: 3.5px; fill: none; }
    .regulator { stroke: #28a745; stroke-width: 2.5px; fill: #d4edda; }
    .valve { stroke: #28a745; stroke-width: 2.5px; fill: #d4edda; }
    .heater { stroke: #28a745; stroke-width: 2.5px; fill: #e8f5e9; }
    .sensor { stroke: #28a745; stroke-width: 2px; fill: #d4edda; }
    .annotation { font-family: "Arial", sans-serif; font-size: 14px; fill: #111; }
    .param-label { font-family: "Arial", sans-serif; font-size: 13px; fill: #111; }
    .status-active { fill: #d4edda; stroke: #28a745; stroke-width: 2px; }
</style>
  </defs>
  <rect width="1400" height="900" fill="#fff" y="0.342" transform="matrix(1, 0, 0, 1, 0, 1.4210854715202004e-14)"/>
  
  <!-- Status Box -->
  <rect class="status-active" x="50" y="20" width="1300" height="60" rx="5"/>
  <text class="title" text-anchor="middle" x="700" y="45" fill="#155724" font-weight="bold">NAGRZEWNICA - STAN AKTYWNY</text>
  <text class="label" text-anchor="middle" x="700" y="70" fill="#155724">Regulator PID w trybie REGULACJA | Zawór: 20-100% (regulacja aktywna)</text>
  
  <g transform="matrix(1, 0, 0, 1, -66.41287994384766, 4.216674804687514)">
    <rect x="95.93" y="591.654" width="533.938" height="265.124" rx="10" ry="10" style="fill: rgb(255, 254, 240); stroke: rgb(17, 17, 17); stroke-width: 1.514px;"/>
    <text class="label" font-weight="bold" x="0" y="0" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.440921, 610.468646)">Legenda:</text>
    <line class="signal-line" x1="101.441" y1="640.469" x2="162.538" y2="640.469" style="stroke-width: 2.523;"/>
    <text class="annotation" x="70" y="35" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.440921, 610.468646)">Sygnał sterujący/pomiarowy</text>
    <line class="water-line-hot" x1="101.441" y1="665.469" x2="162.538" y2="665.469" style="stroke-width: 3.532;"/>
    <text class="annotation" x="70" y="60" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.440921, 610.468646)">Woda grzewcza (zasilanie)</text>
    <line class="water-line-return" x1="101.441" y1="690.469" x2="162.538" y2="690.469" style="stroke-width: 3.532;"/>
    <text class="annotation" x="70" y="85" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.440921, 610.468646)">Woda powrotna</text>
    <line class="air-line" x1="101.441" y1="715.469" x2="162.538" y2="715.469" style="stroke-width: 3.532;"/>
    <text class="annotation" x="70" y="110" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.440921, 610.468646)">Powietrze</text>
    <text class="annotation" x="0" y="20" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 103.549281, 723.616599)">SP (Set Point) - wartość zadana regulacji</text>
    <text class="annotation" x="0" y="40" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.968005, 724.670737)">PV (Process Variable) - wartość mierzona</text>
    <text class="annotation" x="0" y="60" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.968005, 724.670737)">CV (Control Variable) - sygnał wyjściowy regulatora</text>
    <text class="annotation" x="0" y="80" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.968005, 724.670737)">Tz - temperatura zadana (50°C)</text>
    <text class="annotation" x="0" y="100" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.968005, 724.670737)">Pzmin - minimalne otwarcie zaworu (20%) - zabezpieczenie przed zamrożeniem</text>
    <text class="annotation" x="0" y="120" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 101.968005, 724.670737)">Pzmax - maksymalne otwarcie zaworu (100%)</text>
  </g>
  
  
  <g transform="matrix(1, 0, 0, 1, 137.29718017578125, -125.140380859375)">
    <rect class="regulator" x="144.449" y="313.704" width="203.656" height="150" rx="5" style="stroke-width: 2.523;"/>
    <text class="label" text-anchor="middle" x="250" y="330" font-weight="bold" style="white-space: pre;" fill="#155724" transform="matrix(1.018278, 0, 0, 1, -8.293183, 13.704235)">Regulator PID</text>
    <text class="small-label" text-anchor="middle" x="250" y="350" style="white-space: pre;" fill="#155724" transform="matrix(1.018278, 0, 0, 1, -8.293183, 13.704235)">Tryb: REGULACJA</text>
    <text class="small-label" x="170" y="370" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, -8.293183, 13.704235)">Parametry:</text>
    <text class="param-label" x="180" y="390" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, -8.293183, 13.704235)">Kp - wzmocnienie</text>
    <text class="param-label" x="180" y="410" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, -8.293183, 13.704235)">Ti - człon całkujący</text>
    <text class="param-label" x="180" y="430" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, -8.293183, 13.704235)">Td - człon różniczkujący</text>
  </g>
  
  <line class="signal-line" marker-end="url(#arrow-head)" x1="138.091" y1="264.542" x2="282.846" y2="264.542" style="stroke-width: 2.523;" transform="matrix(1, 0, 0, 1, 0, 1.4210854715202004e-14)"/>
  <text class="annotation" x="60" y="320" style="white-space: pre;" fill="#155724" font-weight="bold" transform="matrix(1.0182780027389526, 0, 0, 1, 84.14378356933595, -91.32899475097656)">SP (wartość zadana)</text>
  <text class="param-label" x="60" y="340" style="white-space: pre;" fill="#155724" transform="matrix(1.0182780027389526, 0, 0, 1, 112.07937622070314, -89.50621795654297)">Tz = 50°C</text>
  
  <line class="signal-line" marker-end="url(#arrow-head)" x1="383.09" y1="472.287" x2="383.09" y2="340.21" style="stroke-width: 2.523;" transform="matrix(1, 0, 0, 1, 0, 1.4210854715202004e-14)"/>
  <text class="annotation" x="260" y="490" style="white-space: pre;" fill="#155724" font-weight="bold" transform="matrix(1.0182780027389526, 0, 0, 1, 336.5009765625, -32.45477294921874)">PV (temperatura mierzona)</text>
  
  <g transform="matrix(1, 0, 0, 1, 138.12208557128906, -125.4032974243164)">
    <line class="signal-line" marker-end="url(#arrow-head)" x1="348.104" y1="388.704" x2="500.532" y2="388.704" style="stroke-width: 2.523;"/>
    <text class="annotation" x="360" y="365" style="white-space: pre;" fill="#155724" font-weight="bold" transform="matrix(1.018278, 0, 0, 1, -12.776884, -25.52952)">CV (sygnał sterujący)</text>
    <text class="param-label" x="360" y="385" style="white-space: pre;" fill="#155724" transform="matrix(1.018278, 0, 0, 1, -11.826181, -29.300888)">Pzmin = 20%</text>
    <text class="param-label" x="360" y="400" style="white-space: pre;" fill="#155724" transform="matrix(1.018278, 0, 0, 1, -13.193369, -27.920553)">Pzmax = 100%</text>
  </g>
  
  <rect class="valve" x="639.817" y="204.515" width="110.373" height="110" rx="3" style="stroke-width: 2.523;" transform="matrix(1, 0, 0, 1, 0, 1.4210854715202004e-14)"/>
  <text class="label" text-anchor="middle" x="50" y="30" font-weight="bold" style="white-space: pre;" fill="#155724" transform="matrix(1.0182780027389526, 0, 0, 1, 642.29296875, 225.16128540039062)">Zawór</text>
  <text class="label" text-anchor="middle" x="50" y="50" style="white-space: pre;" fill="#155724" transform="matrix(1.0182780027389526, 0, 0, 1, 643.266845703125, 225.53451538085938)">regulacyjny</text>
  
  <rect class="heater" x="901.155" y="174.713" width="224.819" height="168.424" rx="5" style="stroke-width: 2.523;" transform="matrix(1, 0, 0, 1, 0, 1.4210854715202004e-14)"/>
  <text class="label" text-anchor="middle" x="900" y="280" font-weight="bold" font-size="22" style="white-space: pre;" fill="#155724" transform="matrix(1.0182780027389526, 0, 0, 1, 97.8577346801758, -48.73284912109374)">NAGRZEWNICA</text>
  <text class="label" text-anchor="middle" x="900" y="305" font-weight="bold" font-size="20" style="white-space: pre;" fill="#155724" transform="matrix(1.0182780027389526, 0, 0, 1, 95.17594146728517, -47.41496276855468)">(Nx) - AKTYWNA</text>
  
  <g transform="matrix(0.7291749715805054, 0, 0, 0.5214839577674866, 928.433837890625, 278.979736328125)" style="">
    <path d="M 0,0 Q 15,-15 30,0 T 60,0 T 90,0 T 120,0 T 150,0 T 180,0 T 210,0 T 240,0" stroke="#dc3545" stroke-width="3" fill="none"/>
    <path d="M 0,20 Q 15,5 30,20 T 60,20 T 90,20 T 120,20 T 150,20 T 180,20 T 210,20 T 240,20" stroke="#dc3545" stroke-width="3" fill="none"/>
    <path d="M 0,40 Q 15,25 30,40 T 60,40 T 90,40 T 120,40 T 150,40 T 180,40 T 210,40 T 240,40" stroke="#dc3545" stroke-width="3" fill="none"/>
  </g>
  
  <line class="water-line-hot" marker-end="url(#arrow-head)" x1="749.883" y1="258.928" x2="899.534" y2="258.928" style="stroke-width: 3.532;" transform="matrix(1, 0, 0, 1, 0, 1.4210854715202004e-14)"/>
  <text class="annotation" x="660" y="310" fill="#dc3545" font-weight="bold" style="white-space: pre;" transform="matrix(1.0182780027389526, 0, 0, 1, 81.4741897583008, -58.85184478759765)">Woda grzewcza</text>
  
  <line class="water-line-return" marker-end="url(#arrow-head)" x1="1274.82" y1="257.756" x2="1126.36" y2="257.755" style="stroke-width: 3.532; transform-origin: 1200.59px 257.755px;" transform="matrix(-1, 0, 0, -1, 0, 0)"/>
  <text class="annotation" x="700" y="520" fill="#3498db" font-weight="bold" style="white-space: pre;" transform="matrix(1.0182780027389526, 0, 0, 1, 421.1121520996094, -272.4111328125)">Woda powrotna</text>
  
  <line class="air-line" marker-end="url(#arrow-head)" x1="975.169" y1="133.545" x2="1053.11" y2="133.545" style="stroke-width: 3.532; transform-origin: 1014.14px 133.545px;" transform="matrix(-4e-8, 1.0000014, -1.00000047, 0, -0.00080656, -0.00167287)"/>
  <text class="annotation" x="640" y="440" fill="#7f8c8d" font-weight="bold" style="white-space: pre;" transform="matrix(1.0182780027389526, 0, 0, 1, 374.9651184082031, -315.8284912109375)">Powietrze zimne</text>
  
  <line class="air-line" marker-end="url(#arrow-head)" x1="886.774" y1="471.171" x2="1137.96" y2="471.171" style="stroke-width: 3.532; transform-origin: 1012.37px 471.171px;" transform="matrix(0.00000104, 1, -1, 0, -0.00059323, -0.00059323)"/>
  <text class="annotation" x="1100" y="365" fill="#7f8c8d" font-weight="bold" style="white-space: pre;" transform="matrix(1.0182780027389526, 0, 0, 1, -96.1449966430664, 29.05652809143068)">Powietrze ogrzane</text>
  <text class="param-label" x="1120" y="395" fill="#155724" font-weight="bold" style="white-space: pre;" transform="matrix(1.0182780027389526, 0, 0, 1, -83.08113098144531, 100.13294982910156)">T = Tz (50°C)</text>
  
  <circle class="sensor" cx="1150" cy="450" r="35" transform="matrix(1.0182780027389526, 0, 0, 1, -159.49436950683594, 20.726726531982436)"/>
  <text class="label" text-anchor="middle" x="1150" y="455" font-size="16" style="white-space: pre;" fill="#155724" transform="matrix(1.0182780027389526, 0, 0, 1, -159.77369689941406, 21.605936050415053)">T</text>
  <text class="small-label" text-anchor="middle" x="1150" y="505" style="white-space: pre;" transform="matrix(1.0182780027389526, 0, 0, 1, -75.81520080566406, -46.8727684020996)">Czujnik</text>
  <text class="small-label" text-anchor="middle" x="1150" y="520" style="white-space: pre;" transform="matrix(1.0182780027389526, 0, 0, 1, -73.09879302978516, -44.25213241577148)">temperatury</text>
  
  <line class="signal-line" x1="974.25" y1="471.116" x2="382.349" y2="471.116" style="stroke-width: 2.523;" transform="matrix(1, 0, 0, 1, 0, 1.4210854715202004e-14)"/>
  
  <g transform="matrix(1, 0, 0, 1, -159.9589080810547, 24.71853637695314)">
    <g>
      <rect x="745.233" y="643.704" width="391.385" height="190.542" fill="#fffef0" stroke="#111" stroke-width="1.5" rx="5" style="stroke-width: 1.514;"/>
    </g>
    <text class="label" font-weight="bold" x="0" y="0" style="white-space: pre;" fill="#155724" transform="matrix(1.018278, 0, 0, 1, 755.415367, 663.704304)">Stan aktywny:</text>
    <text class="annotation" x="0" y="25" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 755.415367, 663.704304)">• Regulator PID w trybie REGULACJA - aktywnie steruje</text>
    <text class="annotation" x="0" y="45" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 755.415367, 663.704304)">• Porównuje Tz=50°C z temperaturą mierzoną (PV)</text>
    <text class="annotation" x="0" y="70" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 755.415367, 663.704304)">• Zawór regulacyjny: 20-100% (regulacja dynamiczna)</text>
    <text class="annotation" x="0" y="95" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 755.415367, 663.704304)">• Pełny przepływ wody grzewczej (zmienne)</text>
    <text class="annotation" x="0" y="120" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 755.415367, 663.704304)">• Przepustnice otwarte - pełny przepływ powietrza</text>
    <text class="annotation" x="0" y="145" style="white-space: pre;" transform="matrix(1.018278, 0, 0, 1, 755.415367, 663.704304)">• Pętla sprzężenia zwrotnego aktywna</text>
  </g>
</svg>
